{"ast":null,"code":"import _defineProperty from\"/media/bytes-pratha/workspaces/projects/online_beauty_product_hub_front/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/media/bytes-pratha/workspaces/projects/online_beauty_product_hub_front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/media/bytes-pratha/workspaces/projects/online_beauty_product_hub_front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{Navigate,useNavigate}from'react-router-dom';import{useDispatch}from'react-redux';import{LoginAction}from'../../redux/action/LoginAction';import'./login.css';import{Row,Col}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useState=useState({identifier:'',password:''}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var _useState3=useState({errorEmail:\"\",errorPassword:\"\"}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var dispatch=useDispatch();var handleChange=function handleChange(event){var name=event.target.name;var value=event.target.value;setInputs(_objectSpread(_objectSpread({},inputs),{},_defineProperty({},name,value)));};var checkedOut=function checkedOut(){var validationErrors=validate(inputs);var noErrors=Object.keys(validationErrors).length===0;setError(validationErrors);if(noErrors){localStorage.getItem('jwt')?navigate('/home'):navigate('/login');}};var validate=function validate(inputs){dispatch(LoginAction({\"identifier\":inputs.identifier,\"password\":inputs.password},onSuccess));var localError={};var resEmail=/\\S+@\\S+\\.\\S+/;if(!inputs.identifier){localError.errorEmail=\"*Please Enter Email\";}else if(!resEmail.test(inputs.identifier)){localError.errorEmail=\"*Please Enter Correct Email\";}var resPass=/^(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{6,}$/;if(!inputs.password){localError.errorPassword=\"*Please Enter Password\";}else if(!resPass.test(inputs.password)){localError.errorPassword=\"*Please Enter Correct Password\";}return localError;};var location=localStorage.getItem('location');var onSuccess=function onSuccess(){location?navigate(\"\".concat(location)):navigate('/');};var jwt=localStorage.getItem('jwt');return!jwt?/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"SIGN IN\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row main-cont\",children:/*#__PURE__*/_jsx(\"form\",{className:\"mx-1 mx-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{className:\"coltag\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-envelope\"}),\" Email:\"]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"identifier\",value:inputs.identifier,onChange:handleChange,placeholder:\"Please Enter Email\"}),error.errorEmail&&/*#__PURE__*/_jsx(\"span\",{className:\"texterror\",children:error.errorEmail})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{className:\"coltag\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-lock\"}),\" Password:\"]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",value:inputs.password,onChange:handleChange,placeholder:\"Please Enter Password\"}),error.errorPassword&&/*#__PURE__*/_jsx(\"span\",{className:\"texterror\",children:error.errorPassword})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",className:\"quote signinbtn\",onClick:checkedOut,value:\"SIGN IN\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",className:\"quote signupbtn\",onClick:function onClick(){return navigate('/register');},value:\"SIGN UP\"})})]})]})})})]}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"});};export{Login};","map":{"version":3,"sources":["/media/bytes-pratha/workspaces/projects/online_beauty_product_hub_front/src/screens/login/Login.tsx"],"names":["useState","Navigate","useNavigate","useDispatch","LoginAction","Row","Col","Login","navigate","identifier","password","inputs","setInputs","errorEmail","errorPassword","error","setError","dispatch","handleChange","event","name","target","value","checkedOut","validationErrors","validate","noErrors","Object","keys","length","localStorage","getItem","onSuccess","localError","resEmail","test","resPass","location","jwt"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport { Navigate, useNavigate } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LoginAction } from '../../redux/action/LoginAction';\nimport './login.css';\nimport { Row, Col } from 'react-bootstrap';\nconst Login = () => {\n  const navigate = useNavigate()\n  const [inputs, setInputs]: any = useState({\n    identifier: '',\n    password: ''\n  })\n  const [error, setError] = useState({\n    errorEmail: \"\",\n    errorPassword: \"\",\n  });\n  const dispatch = useDispatch();\n  const handleChange = (event: { target: { name: any; value: any; } }) => {\n    const name = event.target.name;\n    const value = event.target.value;\n    setInputs({ ...inputs, [name]: value })\n  }\n  const checkedOut = () => {\n    const validationErrors = validate(inputs);\n    const noErrors = Object.keys(validationErrors).length === 0;\n    setError(validationErrors);\n    if (noErrors) {\n      localStorage.getItem('jwt') ? navigate('/home') : navigate('/login')\n    }\n  }\n  const validate = (inputs: any) => {\n    dispatch(LoginAction({\n      \"identifier\": inputs.identifier,\n      \"password\": inputs.password\n    }, onSuccess));\n    let localError: any = {};\n    const resEmail = /\\S+@\\S+\\.\\S+/;\n    if (!inputs.identifier) {\n      localError.errorEmail = \"*Please Enter Email\";\n    } else if (!resEmail.test(inputs.identifier)) {\n      localError.errorEmail = \"*Please Enter Correct Email\";\n    }\n    const resPass =\n      /^(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{6,}$/;\n    if (!inputs.password) {\n      localError.errorPassword = \"*Please Enter Password\";\n    } else if (!resPass.test(inputs.password)) {\n      localError.errorPassword =\n        \"*Please Enter Correct Password\";\n    }\n    return localError;\n  }\n  const location = localStorage.getItem('location')\n  const onSuccess = () => {\n    location ? navigate(`${location}`) : navigate('/')\n  };\n  const jwt = localStorage.getItem('jwt')\n  return !jwt ? (\n    <div className=\"login-container\" >\n      <h3 >SIGN IN</h3>\n      <div className='row main-cont'>\n        <form className=\"mx-1 mx-md-4\">\n          <div className='login'>\n            <Row>\n              <Col className='coltag' >\n                <i className=\"fa fa-envelope\"></i> Email:\n              </Col>\n              <Col >\n                <input type=\"email\" className=\"form-control\" name='identifier' value={inputs.identifier} onChange={handleChange} placeholder='Please Enter Email' />\n                {\n                  error.errorEmail && (\n                    <span className='texterror' >{error.errorEmail}</span>\n                  )}\n              </Col>\n            </Row>\n            <Row>\n              <Col className='coltag'>\n                <i className=\"fa fa-lock\"></i> Password:\n              </Col>\n              <Col>\n                <input type=\"password\" className=\"form-control\" name='password' value={inputs.password} onChange={handleChange} placeholder='Please Enter Password' />\n                {\n                  error.errorPassword && (\n                    <span className='texterror'>{error.errorPassword}</span>\n                  )}\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <input type=\"button\" className=\"quote signinbtn\" onClick={checkedOut} value='SIGN IN' />\n              </Col>\n              <Col>\n                <input type=\"button\" className=\"quote signupbtn\" onClick={() => navigate('/register')} value='SIGN UP' />\n              </Col>\n            </Row>\n          </div>\n        </form>\n      </div>\n    </div>\n  ) :\n    (\n      <Navigate to='/' />\n    )\n}\nexport { Login }"]},"metadata":{},"sourceType":"module"}